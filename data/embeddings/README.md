Not a big fan of how the embeddings are computed here. See the live demo repo for how I would do it. I don't understand why put them directly into DB. Seems like it's just asking to make it more complicated. Imo better save them to a file, then load to db. Much easier and then the embeddings are stored locally for any other uses (i know u can then download from db, but i dont get why youd do that). Maybe if you have tons of data?